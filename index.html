<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zalón Viry - Servicios y Precios</title>
    <!-- Importación de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- == CORRECCIÓN: Se añaden React y ReactDOM, que son necesarios para Lucide-React == -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <!-- == FIN DE LA CORRECCIÓN == -->

    <!-- Importación de la biblioteca de iconos Lucide -->
    <script src="https://unpkg.com/lucide-react@latest/dist/umd/lucide-react.js"></script>

    <!-- Configuración de Tailwind y fuente Inter -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'brand-primary': '#D81B60', // Un rosa más intenso y moderno
                        'brand-secondary': '#FCE4EC', // Un rosa pálido para fondos
                        'brand-dark': '#4A4A4A',
                        'brand-light': '#F9F9F9',
                    }
                }
            }
        }
    </script>
    <!-- Estilos adicionales y fuente Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F9F9F9; /* Usando brand-light */
        }
        /* Componente React para iconos (usado por Lucide) */
        .icon {
            width: 24px;
            height: 24px;
            stroke-width: 2;
        }

        /* Estilo para el spinner de carga */
        .spinner {
            border-top-color: transparent;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
</head>
<body class="text-brand-dark">

    <div class="container mx-auto max-w-5xl p-4 sm:p-8">

        <!-- Encabezado -->
        <header class="text-center mb-10 sm:mb-16">
            <h1 class="text-4xl sm:text-6xl font-bold text-brand-primary mb-2">
                Salón Viry
            </h1>
            <p class="text-xl sm:text-2xl text-gray-600 font-light">
                Nuestros Servicios
            </p>
        </header>

        <!-- Contenedor de servicios en cuadrícula -->
        <main class="grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8">

            <!-- Tarjeta de Servicio: Estilismo -->
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden transition-transform duration-300 hover:scale-[1.02]">
                <div class="bg-brand-secondary p-5 flex items-center space-x-3">
                    <span id="icon-scissors"></span>
                    <h2 class="text-2xl font-semibold text-brand-primary">Estilismo</h2>
                </div>
                <ul class="p-6 space-y-4">
                    <li class="flex justify-between items-center text-lg">
                        <span>Corte de Dama</span>
                        <span class="font-bold text-brand-dark">$150</span>
                    </li>
                </ul>
            </div>

            <!-- Tarjeta de Servicio: Peinados y Cabello -->
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden transition-transform duration-300 hover:scale-[1.02]">
                <div class="bg-brand-secondary p-5 flex items-center space-x-3">
                    <span id="icon-wind"></span>
                    <h2 class="text-2xl font-semibold text-brand-primary">Peinados y Cabello</h2>
                </div>
                <ul class="p-6 space-y-4">
                    <li class="flex justify-between items-center text-lg">
                        <span>Peinados</span>
                        <span class="font-bold text-brand-dark">$400</span>
                    </li>
                    <li class="flex justify-between items-center text-lg">
                        <span>Alineado Permanente</span>
                        <span class="font-bold text-brand-dark">$1,000</span>
                    </li>
                </ul>
            </div>

            <!-- Tarjeta de Servicio: Maquillaje -->
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden transition-transform duration-300 hover:scale-[1.02]">
                <div class="bg-brand-secondary p-5 flex items-center space-x-3">
                    <span id="icon-brush"></span>
                    <h2 class="text-2xl font-semibold text-brand-primary">Maquillaje</h2>
                </div>
                <ul class="p-6 space-y-4">
                    <li class="flex justify-between items-center text-lg">
                        <span>Maquillaje sencillo</span>
                        <span class="font-bold text-brand-dark">$250</span>
                    </li>
                </ul>
            </div>

            <!-- Tarjeta de Servicio: Pestañas -->
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden transition-transform duration-300 hover:scale-[1.02]">
                <div class="bg-brand-secondary p-5 flex items-center space-x-3">
                    <span id="icon-eye"></span>
                    <h2 class="text-2xl font-semibold text-brand-primary">Pestañas</h2>
                </div>
                <ul class="p-6 space-y-4">
                    <li class="flex justify-between items-center text-lg">
                        <span>Pestañas 3D</span>
                        <span class="font-bold text-brand-dark">$450</span>
                    </li>
                    <li class="flex justify-between items-center text-lg">
                        <span>Lifting de pestañas</span>
                        <span class="font-bold text-brand-dark">$250</span>
                    </li>
                </ul>
            </div>

            <!-- Tarjeta de Servicio: Depilación con Cera -->
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden transition-transform duration-300 hover:scale-[1.02]">
                <div class="bg-brand-secondary p-5 flex items-center space-x-3">
                    <span id="icon-sparkles"></span>
                    <h2 class="text-2xl font-semibold text-brand-primary">Depilación con Cera</h2>
                </div>
                <ul class="p-6 space-y-4">
                    <li class="flex justify-between items-center text-lg">
                        <span>Bigote</span>
                        <span class="font-bold text-brand-dark">$70</span>
                    </li>
                    <li class="flex justify-between items-center text-lg">
                        <span>Rostro completo</span>
                        <span class="font-bold text-brand-dark">$150</span>
                    </li>
                </ul>
            </div>
            
            <!-- Tarjeta de Servicio: Aplicación de Tinte -->
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden transition-transform duration-300 hover:scale-[1.02]">
                <div class="bg-brand-secondary p-5 flex items-center space-x-3">
                    <span id="icon-palette"></span>
                    <h2 class="text-2xl font-semibold text-brand-primary">Aplicación de Tinte</h2>
                </div>
                <ul class="p-6 space-y-4">
                    <li class="flex justify-between items-start text-lg">
                        <div>
                            <span>Cabello corto</span>
                            <span class="block text-sm text-gray-500">(incluye estilizado de cabello)</span>
                        </div>
                        <span class="font-bold text-brand-dark flex-shrink-0 ml-4">$250</span>
                    </li>
                    <li class="flex justify-between items-start text-lg">
                        <div>
                            <span>Cabello medio</span>
                            <span class="block text-sm text-gray-500">(incluye estilizado de cabello)</span>
                        </div>
                        <span class="font-bold text-brand-dark flex-shrink-0 ml-4">$350</span>
                    </li>
                    <li class="flex justify-between items-start text-lg">
                        <div>
                            <span>Cabello muy largo</span>
                            <span class="block text-sm text-gray-500">(incluye estilizado de cabello)</span>
                        </div>
                        <span class="font-bold text-brand-dark flex-shrink-0 ml-4">$450</span>
                    </li>
                    <li class="flex justify-between items-center text-lg">
                        <span>Rayitos, Mechas y Balayage</span>
                        <span class="font-semibold text-brand-primary text-base text-right">Precio a cotizar en visita</span>
                    </li>
                </ul>
            </div>
            
            <!-- Tarjeta de Servicio: Micropigmentación -->
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden transition-transform duration-300 hover:scale-[1.02] md:col-span-2">
                <div class="bg-brand-secondary p-5 flex items-center space-x-3">
                    <span id="icon-gem"></span>
                    <h2 class="text-2xl font-semibold text-brand-primary">Micropigmentación y Estética Permanente</h2>
                </div>
                <ul class="p-6 space-y-4 sm:grid sm:grid-cols-2 sm:gap-x-8 sm:space-y-0">
                    <li class="flex justify-between items-center text-lg py-2">
                        <span>Cejas</span>
                        <span class="font-bold text-brand-dark">$1,000</span>
                    </li>
                    <li class="flex justify-between items-center text-lg py-2">
                        <span>Labios</span>
                        <span class="font-bold text-brand-dark">$1,500</span>
                    </li>
                </ul>
            </div>

        </main>

        <!-- == INICIO: Nueva Sección de Asistente Virtual con Gemini API == -->
        <section class="mt-12 sm:mt-16">
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden transition-transform duration-300 hover:scale-[1.02]">
                <div class="bg-brand-secondary p-5 flex items-center space-x-3">
                    <span id="icon-sparkles-gemini"></span>
                    <h2 class="text-2xl font-semibold text-brand-primary">✨ Asistente de Estilo Virtual</h2>
                </div>
                <div class="p-6 space-y-4">
                    <p class="text-lg text-gray-700">¿No sabes qué look elegir? Describe tu evento y nuestra IA te dará ideas creativas.</p>
                    
                    <div>
                        <label for="eventoInput" class="block text-sm font-medium text-gray-700 mb-1">Tu evento (ej. "boda de día", "fiesta de noche"):</label>
                        <input type="text" id="eventoInput" class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-brand-primary focus:border-brand-primary" placeholder="Boda en la playa, graduación...">
                    </div>
                    
                    <button id="generarBtn" class="w-full sm:w-auto inline-flex items-center justify-center bg-brand-primary text-white text-lg font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:bg-opacity-90 hover:scale-105">
                        <span id="btnText">Generar Ideas</span>
                        <div id="loadingSpinner" class="spinner border-4 border-white rounded-full ml-3 hidden"></div>
                    </button>
                    
                    <div id="resultadoGemini" class="mt-4 p-4 bg-brand-light rounded-lg text-brand-dark hidden">
                        <!-- Aquí se mostrará la respuesta de Gemini -->
                    </div>
                </div>
            </div>
        </section>
        <!-- == FIN: Nueva Sección de Asistente Virtual con Gemini API == -->

        <!-- Pie de página y Llamada a la Acción (CTA) -->
        <footer class="text-center mt-12 sm:mt-20">
            <p class="text-2xl text-gray-700 mb-6">
                ¡Reserva tu cita y luce espectacular!
            </p>
            <!-- == MODIFICACIÓN: Se agrega el enlace de WhatsApp y target="_blank" == -->
            <a href="https://wa.me/527752549189" target="_blank" rel="noopener noreferrer" class="inline-block bg-brand-primary text-white text-lg font-bold py-4 px-10 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:bg-opacity-90 hover:scale-105">
                Agendar Cita
            </a>
            <!-- == FIN DE LA MODIFICACIÓN == -->
        </footer>

    </div>

    <!-- == INICIO: Script para la API de Gemini == -->
    <script>
        document.getElementById('generarBtn').addEventListener('click', async () => {
            const eventoInput = document.getElementById('eventoInput');
            const evento = eventoInput.value.trim();
            
            if (!evento) {
                eventoInput.classList.add('border-red-500');
                eventoInput.focus();
                return;
            }
            eventoInput.classList.remove('border-red-500');

            const btnText = document.getElementById('btnText');
            const loadingSpinner = document.getElementById('loadingSpinner');
            const generarBtn = document.getElementById('generarBtn');
            const resultadoGemini = document.getElementById('resultadoGemini');

            // Mostrar estado de carga
            btnText.textContent = 'Generando...';
            loadingSpinner.classList.remove('hidden');
            generarBtn.disabled = true;
            resultadoGemini.classList.add('hidden');

            const apiKey = ""; // La API key se inyectará automáticamente
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;

            const systemPrompt = "Eres 'Viry', una estilista experta, amigable y creativa en 'Salón Viry'. Tu trabajo es dar sugerencias de looks (peinado y maquillaje) basadas en un evento. Responde en español de México. Sé breve (2-4 frases), inspiradora y menciona sutilmente los servicios del salón (como 'un maquillaje profesional', 'un peinado recogido', 'pestañas 3D', 'balayage' o 'depilación de ceja'). No uses emojis.";

            const payload = {
                contents: [{
                    parts: [{ text: `Tengo un evento: '${evento}'. Dame ideas de look.` }]
                }],
                systemInstruction: {
                    parts: [{ text: systemPrompt }]
                },
            };

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`Error de API: ${response.statusText}`);
                }

                const result = await response.json();
                
                if (result.candidates && result.candidates[0].content && result.candidates[0].content.parts[0].text) {
                    const textoRespuesta = result.candidates[0].content.parts[0].text;
                    // Usamos innerText para evitar inyección HTML
                    resultadoGemini.innerText = textoRespuesta;
                    resultadoGemini.classList.remove('hidden');
                } else {
                    resultadoGemini.innerText = 'No se pudo generar una idea. Por favor, intenta de nuevo.';
                    resultadoGemini.classList.remove('hidden');
                }

            } catch (error) {
                console.error('Error al llamar a Gemini API:', error);
                resultadoGemini.innerText = 'Ocurrió un error. Por favor, intenta más tarde.';
                resultadoGemini.classList.remove('hidden');
            } finally {
                // Restaurar estado del botón
                btnText.textContent = 'Generar Ideas';
                loadingSpinner.classList.add('hidden');
                generarBtn.disabled = false;
            }
        });
    </script>
    <!-- == FIN: Script para la API de Gemini == -->


    <!-- Script para renderizar los iconos de Lucide -->
    <script>
        const iconElements = {
            'icon-scissors': React.createElement(lucide.Scissors),
            'icon-wind': React.createElement(lucide.Wind),
            'icon-brush': React.createElement(lucide.Paintbrush2), // Un icono más adecuado para maquillaje
            'icon-eye': React.createElement(lucide.Eye),
            'icon-sparkles': React.createElement(lucide.Sparkles),
            'icon-palette': React.createElement(lucide.Palette),
            'icon-gem': React.createElement(lucide.Gem),
            'icon-sparkles-gemini': React.createElement(lucide.Sparkles), // Icono para la nueva tarjeta
        };
        
        Object.keys(iconElements).forEach(id => {
            const container = document.getElementById(id);
            if (container) {
                // Usamos ReactDOM.render en lugar de React.render (que está obsoleto)
                // Nota: En React 18, esto idealmente usaría createRoot, pero para un script simple UMD, render sigue funcionando.
                ReactDOM.render(iconElements[id], container);
            }
        });
    </script>
</body>

</html>
